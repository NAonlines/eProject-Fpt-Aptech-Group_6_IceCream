@model IceCreamProject.Models.ReadReplyFeedbackViewModel
@{
    ViewData["Title"] = "Read Reply Feedback";
    Layout = "~/Views/Frontend.cshtml";
}

<div style="margin-left:2%">
    <h1 class="feedback-title">Read Reply Feedback</h1>

    @if (Model.Feedbacks.Any())
    {
        foreach (var feedback in Model.Feedbacks)
        {
            <h3 class="feedback-email">@feedback.Email</h3>
            <p class="feedback-content">@feedback.Content</p>
            <p class="feedback-date"><strong>Posted on:</strong> @feedback.SubmittedDate.ToString("dd/MM/yyyy")</p>

            var responses = Model.FeedbackResponses.Where(fr => fr.FeedbackId == feedback.FeedbackId).ToList();
            if (responses.Any())
            {
                <h4 class="responses-title">Responses:</h4>
                <ul class="responses-list">
                    @foreach (var response in responses)
                    {
                        <li class="response-item">
                            <p><strong>Responded By:</strong> @response.RespondedBy</p>
                            <p>@response.ResponseContent</p>
                            <p><strong>Responded on:</strong> @response.RespondedDate</p>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p class="no-responses">No responses yet.</p>
            }
        }
    }
    else
    {
        <p class="no-feedbacks">No feedbacks found.</p>
    }
</div>
<style>
    h1 {
        text-align: center;
        font-size: 36px;
        margin: 20px 0;
        color: #333;
    }

    /* Feedback item styles */
    .feedback-item {
        background-color: #ffffff;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
    }

        .feedback-item:hover {
            transform: translateY(-10px);
        }

    /* Title and content of feedback */
    .feedback-email {
        font-size: 24px;
        color: #2d2d2d;
        margin: 0;
        font-weight: bold;
    }

    .feedback-content {
        font-size: 16px;
        color: #555;
        line-height: 1.5;
        margin: 10px 0;
    }

    .feedback-date {
        font-size: 14px;
        color: #777;
    }

    /* Responses */
    .responses-title {
        font-size: 18px;
        font-weight: bold;
        margin-top: 20px;
        color: #333;
    }

    .responses-list {
        list-style: none;
        padding-left: 20px;
    }

    .response-item {
        background-color: #f9f9f9;
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

        .response-item p {
            margin: 5px 0;
        }

        .response-item strong {
            color: #333;
        }

    .no-responses {
        font-size: 16px;
        color: #999;
    }

    .no-feedbacks {
        font-size: 16px;
        color: #999;
        text-align: center;
    }

</style>