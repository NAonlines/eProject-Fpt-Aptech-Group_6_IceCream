<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="author" content="Untree.co">
	<link rel="shortcut icon" href="favicon.png">

	<meta name="description" content="" />
	<meta name="keywords" content="bootstrap, bootstrap5" />

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Brygada+1918:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@400;700&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

	<link rel="stylesheet" href="~/Frontend/fonts/icomoon/style.css" asp-append-version="true">
	<link rel="stylesheet" href="~/Frontend/fonts/flaticon/font/flaticon.css" asp-append-version="true">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

	<link rel="stylesheet" href="~/Frontend/css/tiny-slider.css" asp-append-version="true">
	<link rel="stylesheet" href="~/Frontend/css/aos.css">
	<link rel="stylesheet" href="~/Frontend/css/flatpickr.min.css" asp-append-version="true">
	<link rel="stylesheet" href="~/Frontend/css/glightbox.min.css" asp-append-version="true">
	<link rel="stylesheet" href="~/Frontend/css/style.css" asp-append-version="true">
	<link rel="stylesheet" href="~/Frontend/css/site.css" asp-append-version="true">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="~/Frontend/css/site.css">
	<link rel="stylesheet" href="~/Frontend/css/site.css">
	<title>Ice Cream </title>
</head>
<body>

	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>

	<!-- Navbar -->
	<nav class="site-nav mt-3">
		<div class="container">
			<div class="site-navigation">
				<div class="row">
					<div class="col-6 col-lg-3">
						<a asp-route="Home" class="logo m-0 float-start">Ice Cream</a>
					</div>
					<div class="col-lg-6 d-none d-lg-inline-block text-center nav-center-wrap">
						<ul class="js-clone-nav text-navcolor text-center site-menu p-0 m-0">
							<li class="@(
								(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" &&
								 (ViewContext.RouteData.Values["action"]?.ToString() == "Index" ||
								  ViewContext.RouteData.Values["action"]?.ToString() == "ProductDetails")) ? "active home-navbar" : "")">
								<a asp-route="Home">Home</a>
							</li>

												<li class="@(
								(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" &&
								 (ViewContext.RouteData.Values["action"]?.ToString() == "FreeRecipes" ||
								  ViewContext.RouteData.Values["action"]?.ToString() == "RecipeDetails")) ? "active" : "")">
								<a asp-controller="Home" asp-action="FreeRecipes">Free Recipes</a>
							</li>
							<li class="@((ViewContext.RouteData.Values["action"]?.ToString() == "AboutUs") ? "active" : "")">
								<a asp-route="AboutUs">About Us</a>
							</li>
							<li class="@((ViewContext.RouteData.Values["action"]?.ToString() == "ContactUs") ? "active" : "")">
								<a asp-route="ContactUs">Contact Us</a>
							</li>
						</ul>
					</div>

					<div class="col-6 col-lg-3 text-lg-end short-menu">
						<ul class="js-clone-nav d-none d-lg-inline-block text-end site-menu">
							<li>
								<a href="/cart" id="cart-link">
									<i class="fa fa-shopping-cart text-username"></i>
									<span class="cart-item-count count-item-only text-username"></span>

								</a>

							</li>
							@if (User.Identity.IsAuthenticated)
							{
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
										@User.Identity.Name
									</a>
									<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
										<li><a class="dropdown-item" asp-route="Profile">Profile</a></li>
										<li><a class="dropdown-item" href="#">Settings</a></li>
										<li><hr class="dropdown-divider"></li>
										<li><a class="dropdown-item" asp-route="Logout">Logout</a></li>
									</ul>
								</li>

							}
							else
							{
								<li class="cta-button-login"><a asp-route="Login">Sign In</a></li>
							}
						</ul>

						<a href="#" class="burger ms-auto float-end site-menu-toggle js-menu-toggle d-inline-block d-lg-none light" data-toggle="collapse" data-target="#main-navbar">
							<span></span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</nav>


	<!-- Main Content -->
	<main role="main" class="pb-3">
		@RenderBody()
	</main>

	<!-- Footer -->
	<footer class="site-footer">
		<div class="container">
			<div class="row">
				<!-- Footer content -->
				<div class="col-lg-4">
					<h3>About Our Recipe </h3>
					<p>The recipes crafted by Mr. Amber are a blend of tradition and innovation, designed to bring out the finest flavors in every dessert. Each recipe is meticulously developed, ensuring a balance of taste, texture, and presentation. By following Mr. Amber's recipes, customers can recreate his signature desserts at home, transforming ordinary moments into delightful experiences. These recipes are not only easy to follow but also use ingredients that are readily available, making them accessible to everyone. Moreover, they encourage creativity, allowing users to add their personal twist. Embrace the art of dessert making with Mr. Amber's recipes and experience the joy of creating magic in your kitchen.</p>
				</div>
			</div>
		</div>
	</footer>





	<div class="site-footer">
		<div class="container">

			<div class="row">
				<div class="col-lg-4">
					
					<div class="widget">
						<h3>Our Social Media</h3>
						<ul class="list-unstyled social">
							<li><a href="https://www.instagram.com/yugenx.610/profilecard/?igsh=MWVrYmFlMnBvNmJxdg%3D%3D"><span class="icon-instagram"></span></a></li>
							<li><a href="https://x.com/rockyy0610"><span class="icon-twitter"></span></a></li>
							<li><a href="https://www.facebook.com/share/15kAi3NR87/?mibextid=wwXIfr"><span class="icon-facebook"></span></a></li>
							<li><a href="https://pin.it/4fFyy5iZn"><span class="icon-pinterest"></span></a></li>
							
						</ul>
					</div> <!-- /.widget -->
				</div> <!-- /.col-lg-3 -->

				<div class="col-lg-2 ml-auto">
					<div class="widget">
						<h3>Links</h3>
						<ul class="list-unstyled float-left links">
							<li><a href="#">About us</a></li>
							<li><a href="#">Services</a></li>
							<li><a href="#">News</a></li>
							<li><a href="#">Careers</a></li>
							<li><a href="#">Contact</a></li>
						</ul>
					</div> <!-- /.widget -->
				</div> <!-- /.col-lg-3 -->
				<div class="col-lg-3">
					<div class="widget">
						<h3>Contact</h3>
						<address>386/12 Le Van Quoi , Binh Tan Disctrict , Ho Chi Minh City</address>
						<ul class="list-unstyled links mb-4">
							<li><a href="tel://0707918661">0707918661</a></li>
							<li><a href="mailto:yunsosweet0610@gmail.com">yunsosweet0610@gmail.com</a></li>
						</ul>
					</div> <!-- /.widget -->
				</div> <!-- /.col-lg-3 -->

			</div> <!-- /.row -->		
			</div> <!-- /.container -->
		</div> <!-- /.container -->
	</div> <!-- /.site-footer -->
	<!-- Preloader -->
	<div id="overlayer"></div>
	<div class="loader">
		<div class="spinner-border text-primary" role="status">
			<span class="visually-hidden">Loading...</span>
		</div>
	</div>


	<script src="~/Frontend/js/bootstrap.bundle.min.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/tiny-slider.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/aos.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/navbar.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/counter.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/rellax.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/flatpickr.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/glightbox.min.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/custom.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/jquery.validate.min.js" asp-append-version="true"></script>
	<script src="~/Frontend/js/jquery-3.6.0.min.js" asp-append-version="true"></script>
	<script src="~/frontend/js/jquery.validate.unobtrusive.min.js" asp-append-version="true"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.1/js/swiper.min.js'></script>
	<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
	<script>
		window.addEventListener('scroll', function () {
			var nav = document.querySelector('.site-nav');
			if (window.scrollY > 0) {
				nav.classList.add('scrolled');
			} else {
				nav.classList.remove('scrolled');
			}
		});


	</script>

	@RenderSection("Scripts", required: false)
	<script>
		document.addEventListener('DOMContentLoaded', (event) => {
			var toastEL = document.querySelector('.toast');
			var loadtoast = new bootstrap.Toast(toastEL);
			loadtoast.show();
		});
	</script>
	<script>
			$(document).ready(function () {
				function updateCartCount() {
				$.get("/count-cart", function (data) {
					$(".count-item-only").text(data.totalItems);
				});
			}

			$(".add-to-cart").click(function () {
				const BookId = $(this).data("id");
				const quantity = $("#quantity-" + BookId).val(); // Get the quantity from the input field
				const url = $(this).data("url");

					// Ensure quantity is a valid number
					if (isNaN(quantity) || quantity <= 0) {
						alert("Quantiy must be a number greater than 0.");
						return;
					}

						$.post(url, { bookId: BookId, quantity: quantity }, function (response) {
							if (response.success) {
								updateCartCount();
								alert(response.message || "Product added to cart successfully!");
							} else {
								alert(response.message || "An error occurred!");
							}
						}).fail(function (jqXHR, textStatus, errorThrown) {
							console.error("AJAX failed:", textStatus, errorThrown);
						});
			});

			updateCartCount();
		});


	</script>



</body>
</html>
